<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>column</title>
</head>
<body>
    <script src="../d3/d3.min.js", charset="utf-8"></script>
    <script>
        var width = 600;
        var height = 600;//定义两个变量，代表 SVG 绘制框的宽和高。
        var svg = d3.select("body").append("svg")
                .attr("width",width)
                .attr("heiht",height);//选择 <body> 后，在 <body> 里插入 <svg> ，用 attr 来给 <svg> 添加属性。

        var dataset = [30,20,45,12,21];

        svg.selectAll('rect')//表示在 <svg> 中选择所有的 <rect> 元素，但是实际上这时候 <svg> 中还不存在 <rect> 元素。这是 D3 一个比较特殊的地方，即它能够选择一个空集。
                .data(dataset)
                .enter()// enter() 表示当所需要的元素（ <rect> ）比绑定的数据集合的元素（ dataset  ）少时，自动添加位置，使得与数据集合的数量一样多。
                .append('rect')//添加元素 <rect> 。这四行经常一起出现。
                .attr('x',10)
                .attr('y',function(d,i){
                    return i*30;
                })
                .attr('width',function(d,i){
                    return d*10
                })
                .attr('height',28)
                .attr('fill','pink');

        var width = 600;
        var height = 600;//定义两个变量，代表 SVG 绘制框的宽和高。
        var svg = d3.select("body").append("svg")
                .attr("width",width)
                .attr("heiht",height);//选择 <body> 后，在 <body> 里插入 <svg> ，用 attr 来给 <svg> 添加属性。

        var dataset = [30,20,45,12,21];
        var wx = d3.scale.linear()//比例尺赋值给了 wx，要注意这里的 wx 是一个函数。
                .domain([0,d3.max(dataset)])
                .range([0,800])
        //d3.scale.linear() 用于生成一个线性函数的比例尺，它的初始定义域 domain 为 [ 0 , 1 ] ，初始值域 range 为 [ 0 , 1 ] ， 这里的 [  ] 表示的是范围。 现在我们把 domain 设定为 [ 0 , d3.max(dataset) ] ，即0到 dataset 中的最大值。 range设定为0到500。 这表示如果数据是45，则返回500，如果是30，则返回333.333。

        svg.selectAll('rect')//表示在 <svg> 中选择所有的 <rect> 元素，但是实际上这时候 <svg> 中还不存在 <rect> 元素。这是 D3 一个比较特殊的地方，即它能够选择一个空集。
                .data(dataset)
                .enter()// enter() 表示当所需要的元素（ <rect> ）比绑定的数据集合的元素（ dataset  ）少时，自动添加位置，使得与数据集合的数量一样多。
                .append('rect')//添加元素 <rect> 。这四行经常一起出现。
                .attr('x',10)
                .attr('y',function(d,i){
                    return i*30;
                })
                .attr('width',wx)
                .attr('height',28)
                .attr('fill','lightblue');

    </script>

</body>
</html>